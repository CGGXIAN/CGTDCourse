

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Python内置模块：os &mdash; CG TD Course 1.0.1 文档</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="Python内置模块：re" href="python_built_in_module_re.html" />
    <link rel="prev" title="Python内置模块：json" href="python_built_in_module_json.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> CG TD Course
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../preface.html">前言</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../parts/Python.html">Python</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="python_2_vs_3.html">Python 2.x VS 3.x</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_anonymous_function.html">Python匿名函数</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_api.html">Python API</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_books.html">Python相关书籍推荐以及阅读感想</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_built_in_function.html">Python内置函数</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_built_in_module_copy.html">Python内置模块：copy</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_built_in_module_csv.html">Python内置模块：csv</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_built_in_module_functools.html">Python内置模块：functools</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_built_in_module_itertools.html">Python内置模块：itertools</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_built_in_module_json.html">Python内置模块：json</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Python内置模块：os</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#import-glob">import glob</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="python_built_in_module_re.html">Python内置模块：re</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_built_in_module_shutil.html">Python内置模块：shutil</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_built_in_module_subprocess.html">Python内置模块：subprocess</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_built_in_module_sys.html">Python内置模块：sys</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_closure_function.html">Python闭包函数</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_comprehensions.html">Python推导</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_container_dict.html">Python容器：字典 {key: value}</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_container_list.html">Python容器：列表 []</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_container_set.html">Python容器：集合 {}</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_container_tuple.html">Python容器：元组 ()</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_custom_class.html">Python自定义类</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_custom_function.html">Python自定义函数</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_custom_module.html">Python自定义模块</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_custom_package.html">Python自定义包</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_data_types_bool_none.html">Python数据类型：布尔值 &amp; 空值</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_data_types_int_float.html">Python数据类型：整型 &amp; 浮点型</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_data_types_string.html">Python数据类型：字符串</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_database_connect.html">Python数据库操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_decorator.html">Python装饰器</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_development_environment.html">Python开发环境</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_docstring.html">Python注释文档</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_file_operator.html">Python文件操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_flow_control.html">Python流控制语句</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_functional_programming.html">Python函数式编程</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_generator.html">Python生成器</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_ide.html">Python IDE</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_indentation_principle.html">Python缩进原则</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_iterator.html">Python迭代器</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_mind_map.html">Python知识体系：思维导图</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_module_import_principle.html">Python模块导入机制</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_name_rules.html">Python命名规则</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_pep8.html">Python PEP8</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_recursive_function.html">Python递归函数</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_regular_expression.html">Python正则表达式</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_special_method_getitem_setitem.html">Python特殊方法：__getitem__ &amp; __setitem__</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_special_method_repr.html">Python特殊方法：__repr__</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_special_property_dict.html">Python特殊属性：__dict__</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_special_property_doc.html">Python特殊属性：__doc__</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_special_property_file_path.html">Python特殊属性：__file__ &amp; __path__</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_special_property_name.html">Python特殊属性：__name__</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_third_party_module_yaml.html">Python第三方模块：yaml</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_type_instance_concept.html">Python类型实例概念</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_variables_reference.html">Python变量引用</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../parts/PyQt.html">PyQt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parts/Git.html">Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parts/Houdini.html">Houdini</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parts/Maya.html">Maya</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parts/Nuke.html">Nuke</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parts/Shotgun.html">Shotgun</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parts/Deadline.html">Deadline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parts/Linux.html">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parts/Devops.html">Devops</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CG TD Course</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../parts/Python.html">Python</a> &raquo;</li>
        
      <li>Python内置模块：os</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/p_Python/python_built_in_module_os.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="python-os">
<h1>Python内置模块：os<a class="headerlink" href="#python-os" title="永久链接至标题">¶</a></h1>
<p>os.listdir
os.walk
os.path</p>
<p>模块大概分类
常用的内置模块
import os
import sys
import glob
import json
import yaml
import shutil
import re 正则表达式
import time
import datetime
import platform
import random
import subprocess
import xml.etree.ElementTree as ET
import smtplib
from email.header import Header
from email.mime.text import MIMEText
from email.utils import parseaddr, formataddr</p>
<p>内置模块
DCC软件自带模块
第三方模块
自定义模块</p>
<p>Python模块搜索路径
当前工作路径 + sys.path</p>
<p>os
os.path
os.listdir
os.walk
os.environ</p>
<p>os.path module</p>
<p>import os</p>
<p>path = “C:/Users/huweiguo/Documents/maya/2018/maya.env”
os.path.basename(path)
os.path.dirname(path)
os.path.join(“tmp”, “data”, os.path.basename(path))
path = “~/maya/2018/maya.env”
os.path.expanduser(path)
os.path.splitext(path)</p>
<p>尽可能使用os.path来操作文件路径的问题，最好不要使用字符串来构造自己的代码，主要是为了代码的可移植性，它可以很好的处理linux mac以及windows文件路径的差异</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python3.7</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="k">def</span> <span class="nf">findFile</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">relpath</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">start</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
            <span class="n">fullPath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">relpath</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">normpath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">fullPath</span><span class="p">)))</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">findFile</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
<p>从文件夹中查找文件</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;somefile&quot;</span><span class="p">,</span> <span class="s2">&quot;wt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Hello</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;somefile&quot;</span><span class="p">,</span> <span class="s2">&quot;xt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Hello</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s2">&quot;somefile&quot;</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;somefile&quot;</span><span class="p">,</span> <span class="s2">&quot;wt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Hello</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;File already exist!&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="n">houVersion</span> <span class="o">=</span> <span class="s2">&quot;17.0&quot;</span>
<span class="n">version</span> <span class="o">=</span> <span class="mi">2</span>

<span class="c1">###### Do not do this !!!!! ######</span>
<span class="c1"># filepath = &quot;C:\Users\huweiguo\Documents\houdini&quot; + houVersion + &quot;\tmp&quot; + &quot;\example_v0&quot; + str(version) + &quot;.py&quot;</span>
<span class="c1"># filepath = os.path.join(&quot;C:\Users\huweiguo\Documents\houdini&quot;, houVersion, &quot;tmp&quot;, &quot;example&quot;, str(version), &quot;.py&quot;)</span>
<span class="c1">##################################</span>
<span class="c1"># print(filepath)</span>
<span class="c1">#</span>
<span class="c1"># filepath = os.path.expanduser(&quot;~/Documents/houdini{0}/tmp/example_v{1:02}.py&quot;.format(houVersion, version))</span>
<span class="c1"># filepath = os.path.normpath(filepath)</span>
<span class="c1"># print(filepath)</span>
<span class="c1"># print(&quot;This is a file ? :&quot;, os.path.isfile(filepath))</span>
<span class="c1"># print(&quot;This is a directory ? :&quot;, os.path.isdir(r&quot;c:\temp&quot;))</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1"># tempFolder = &#39;temp_2&#39;</span>
<span class="c1"># cacheType = &#39;bgeo&#39;</span>
<span class="c1"># cacheName = &#39;waterSplash.bgeo.gz&#39;</span>
<span class="c1"># filepath = os.path.join(r&quot;C:\nrojects/bla&quot;, tempFolder, cacheType, cacheName)</span>
<span class="c1"># print(filepath)</span>
<span class="c1"># print(os.path.normpath(filepath))</span>

<span class="c1"># print(os.path.split(filepath))</span>

<span class="c1"># print(os.path.dirname(filepath))</span>

<span class="c1"># print(os.path.basename(filepath))</span>

<span class="c1">#### PATH SEPARATOR #####</span>
<span class="n">HOUDINI_OTLSCAN_PATH</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">pathsep</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~/houdini12.1/otls&#39;</span><span class="p">),</span>
                                    <span class="s1">&#39;/houdini_install/houdini/otls&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;/mnt/repo/houdini/otls&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;/mnt/projects/xyzproject/otls&#39;</span><span class="p">])</span>
<span class="nb">print</span> <span class="n">HOUDINI_OTLSCAN_PATH</span>

<span class="c1"># t = &quot;D:/Program&quot;</span>
<span class="c1"># l = []</span>
<span class="c1"># print(os.listdir(t))</span>

<span class="c1"># for f in os.listdir(t):</span>
<span class="c1">#     l.append(os.path.normpath(os.path.join(t, f)))</span>

<span class="c1"># print l</span>
</pre></div>
</div>
<p>sys</p>
<p>shutil</p>
<p>时间模块time&amp;datetime</p>
<p>json
(JavaScript Object Notation)
import json
dir(json)</p>
<p>json.dump 字典转文件
json.dumps 字典转字符串
json.load 文件转字典
json.loads 字符串转字典</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Andy&quot;</span><span class="p">,</span>
    <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">29</span><span class="p">,</span>
    <span class="s2">&quot;weight&quot;</span><span class="p">:</span> <span class="mf">55.5</span>
<span class="p">}</span>

<span class="n">jsonStr</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="n">jsonData</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">jsonStr</span><span class="p">)</span>

<span class="c1"># Writing JSON data</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data.json&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>

<span class="c1"># indent用法</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data.json&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data.json&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
<p>True &gt; true
False &gt; false
None &gt; null</p>
<p>字符串方法
decode
encode</p>
<p>python中默认编码是unicode
s1.decode(“gb2312”) 将gb2312编码的字符串转换成unicode
s2.encode(“gb2312”) 将unicode编码的字符串转换成gp2312</p>
<p>from urllib.request import urlopen
# 正常网页是utf-8，所以要转unicode
import json
u = urlopen(网址)
resp = json.loads(u.read().decode(“utf-8”))
from pprint import pprint
pprint(resp)</p>
<p><a class="reference external" href="https://python3-cookbook.readthedocs.io/zh_CN/latest/index.html">https://python3-cookbook.readthedocs.io/zh_CN/latest/index.html</a></p>
<p>pprint
from pprint import pprint
import sys
pprint(sys.path)</p>
<p>logging</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span>
        <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;app.log&quot;</span><span class="p">,</span>
        <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span>
    <span class="p">)</span>
    <span class="n">hostname</span> <span class="o">=</span> <span class="s2">&quot;www.python.org&quot;</span>
    <span class="n">item</span> <span class="o">=</span> <span class="s2">&quot;spam&quot;</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;data.csv&quot;</span>
    <span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;r&quot;</span>

    <span class="n">logging</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Host </span><span class="si">%s</span><span class="s2"> unknown&quot;</span><span class="p">,</span> <span class="n">hostname</span><span class="p">)</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t find </span><span class="si">%r</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Feature is deprecated&quot;</span><span class="p">)</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Opening file </span><span class="si">%r</span><span class="s2">, mode=</span><span class="si">%r</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Got here&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
<p>level是一个过滤器，critical error warning info debug代表不同的严重级别</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span>
    <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;app.log&quot;</span><span class="p">,</span>
    <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">WARNING</span><span class="p">,</span>
    <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">%(levelname)s</span><span class="s2">:</span><span class="si">%(asctime)s</span><span class="s2">:</span><span class="si">%(message)s</span><span class="s2">&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p><a class="reference external" href="https://docs.python.org/3/howto/logging-cookbook.html">https://docs.python.org/3/howto/logging-cookbook.html</a></p>
<p>核心问题：import语法</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">shutil</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">module</span> <span class="k">as</span> <span class="nn">xxx</span>
<span class="kn">from</span> <span class="nn">module</span> <span class="kn">import</span> <span class="n">xxx</span> <span class="k">as</span> <span class="n">xx</span>
<span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">()</span>
<span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
<span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">()</span>
<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">()</span>
<span class="sa">r</span><span class="s2">&quot;</span><span class="se">\\\&quot;</span><span class="s2">自然字符串</span>
<span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
<span class="n">os</span><span class="o">.</span><span class="n">rmdir</span><span class="p">()</span>
<span class="n">os</span><span class="o">.</span><span class="n">path模块功能操作文件夹</span>
<span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">()</span>
<span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">()</span>
<span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">()</span>
<span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitdrive</span><span class="p">()</span>
<span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
<span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">normpath</span><span class="p">()</span>
</pre></div>
</div>
<p>sys.path</p>
<p>shutil
shutil.copy()
shutil.copy2()
shutil.rmtree()
re 正则表达式模块</p>
<div class="section" id="import-glob">
<h2>import glob<a class="headerlink" href="#import-glob" title="永久链接至标题">¶</a></h2>
<p>正则表达式模块re</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
<span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>

<span class="n">files</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;tank_1_color_v0.rat&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tank_2_color_v5.rat&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tank_1_color_v3.rat&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tank_3_color_v1.rat&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tank_4_color_v2.rat&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tank_4_color_v4.rat&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tank_5_color_v1.rat&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tank_6_color_v6.rat&quot;</span><span class="p">]</span>

<span class="n">pat_num</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;\D+_(\d+)_&quot;</span><span class="p">)</span>
<span class="n">pat_ver</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;(\d+)\D+$&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">sorter_num</span><span class="p">(</span><span class="n">elem</span><span class="p">):</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pat_num</span><span class="p">,</span> <span class="n">elem</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">res</span><span class="o">.</span><span class="n">groups</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">sorter_ver</span><span class="p">(</span><span class="n">elem</span><span class="p">):</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pat_ver</span><span class="p">,</span> <span class="n">elem</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">res</span><span class="o">.</span><span class="n">groups</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># pprint(sorted(files, key=sorter_num))</span>
<span class="n">pprint</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">files</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">sorter_ver</span><span class="p">))</span>
</pre></div>
</div>
<p>日历模块calendar</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">calendar</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">13</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">calendar</span><span class="o">.</span><span class="n">month_name</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

<span class="kn">import</span> <span class="nn">calendar</span>

<span class="n">d</span><span class="o">=</span><span class="p">{}</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">13</span><span class="p">):</span>
    <span class="n">d</span><span class="p">[</span><span class="n">calendar</span><span class="o">.</span><span class="n">month_name</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="n">i</span>

<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">calendar</span>
<span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>
<span class="n">s2</span> <span class="o">=</span> <span class="s2">&quot;February January  May October August September April  November July March December&quot;</span>

<span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">13</span><span class="p">):</span>
    <span class="n">d</span><span class="p">[</span><span class="n">calendar</span><span class="o">.</span><span class="n">month_name</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="n">i</span>

<span class="k">def</span> <span class="nf">sorter</span><span class="p">(</span><span class="n">elem</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">d</span><span class="p">[</span><span class="n">elem</span><span class="p">]</span>

<span class="n">pprint</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">s2</span><span class="o">.</span><span class="n">split</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="n">sorter</span><span class="p">))</span>

<span class="kn">import</span> <span class="nn">calendar</span>
<span class="n">month_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">calendar</span><span class="o">.</span><span class="n">month_name</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">13</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">month_names</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">s2</span><span class="o">.</span><span class="n">split</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="n">month_names</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>
</pre></div>
</div>
<p>邮件模块</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="python_built_in_module_re.html" class="btn btn-neutral float-right" title="Python内置模块：re" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="python_built_in_module_json.html" class="btn btn-neutral float-left" title="Python内置模块：json" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Andy Hu

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>